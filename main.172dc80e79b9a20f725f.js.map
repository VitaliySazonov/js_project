{"version":3,"sources":["webpack:///./js/api.js","webpack:///./js/popular_films.js","webpack:///./template/popular_films.hbs"],"names":["api","key_v3","key_v4","this","examp","start_url","msg","popular_films","html","$","getAllFavorites","url_trends_movies","url_trends_tv","url","fetch","res","json","data","addMovies","noMoviesMsg","console","log","info","movie","movie_page","results","splice","el","media_type","id","btn_text","btn_class","push","img_url","poster_path","title","date","release_date","watch","vote_count","year","Date","getFullYear","name","first_air_date","country","origin_country","append","popular_films_template","Handlebars","module","exports","template","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.172dc80e79b9a20f725f.js","sourcesContent":["// API: https://www.themoviedb.org/settings/api\r\n// login: vito.s\r\n// 80676320\r\nconst api = {\r\n  key_v3: '16381b275cdb7f2dddecff30ade20e6a',\r\n  key_v4: 'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxNjM4MWIyNzVjZGI3ZjJkZGRlY2ZmMzBhZGUyMGU2YSIsInN1YiI6IjYwNWZhNWQxMzlhMWE2MDA3NTVlMTI1ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LozlzwKuUgDyiAZyNK2xYuhIMDlHHNaKvC37wGQzfpg',\r\n  get url_trends_movies() { return`https://api.themoviedb.org/3/trending/movie/week?api_key=${this.key_v3}`},\r\n  get url_trends_tv() { return`https://api.themoviedb.org/3/trending/tv/week?api_key=${this.key_v3}`},\r\n  examp: 'https://api.themoviedb.org/3/movie/550?api_key=16381b275cdb7f2dddecff30ade20e6a',\r\n  start_url: 'https://image.tmdb.org/t/p/w500'\r\n};\r\n\r\nexport default api\r\n","import './../css/popular_films.css';\r\nimport $ from 'jquery';\r\nimport api from './api';\r\nimport popular_films_template from './../template/popular_films.hbs';\r\n\r\nclass HomePage {\r\n  constructor() {\r\n    this.popular_films = $('#popular_films');\r\n    this.getAllFavorites(api.url_trends_movies);\r\n    this.getAllFavorites(api.url_trends_tv);\r\n  }\r\n\r\n  noMoviesMsg = msg =>\r\n    this.popular_films.html(`<h1>${msg}</h1>` || `<h1>The list is empty</h1>`);\r\n\r\n  async getAllFavorites(url) {\r\n    try {\r\n      let res = await fetch(url);\r\n      let data = await res.json();\r\n      data ? this.addMovies(data) : this.noMoviesMsg()\r\n    } catch (err) {\r\n      console.log('Error ==> ', err);\r\n    }\r\n  }\r\n\r\n  addMovies(info) {\r\n    let movie = [];\r\n    let movie_page = {};\r\n    info.results.splice(12);\r\n    // console.log('INFOOOO = ', info.results);\r\n    for (let el of info.results) {\r\n      if (el.media_type === 'movie') {\r\n        movie_page.id = 'movies';\r\n        movie_page.btn_text = 'Фильмы';\r\n        movie_page.btn_class = 'btn-inverse';\r\n        movie.push({\r\n          img_url: api.start_url + el.poster_path,\r\n          title: el.title,\r\n          date: el.release_date,\r\n          watch: el.vote_count,\r\n          year: new Date(el.release_date).getFullYear(),\r\n        });\r\n      }\r\n      if (el.media_type === 'tv') {\r\n        movie_page.id = 'tv';\r\n        movie_page.btn_text = 'Передачи и шоу';\r\n        movie_page.btn_class = 'btn-warning';\r\n        movie.push({\r\n          img_url: api.start_url + el.poster_path,\r\n          title: el.name,\r\n          date: el.first_air_date,\r\n          watch: el.vote_count,\r\n          year: new Date(el.first_air_date).getFullYear(),\r\n          country: el.origin_country[0]\r\n        });\r\n      }\r\n      movie_page.movie = movie;\r\n    }\r\n    // console.log('END = ', movie_page);\r\n    this.popular_films.append(popular_films_template(movie_page));\r\n  }\r\n}\r\n\r\nlet homePage = new HomePage()\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <li>\\r\\n        <div class=\\\"mini-post\\\">\\r\\n          <a href=\\\"#\\\">\\r\\n            <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"img_url\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"\\\"/>\\r\\n            <div class=\\\"custom-info\\\">\\r\\n              <span><i class=\\\"glyphicon glyphicon-calendar\\\"></i>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"date\") : depth0), depth0))\n    + \"</span>\\r\\n              <span><i class=\\\"glyphicon glyphicon-eye-open\\\"></i>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"watch\") : depth0), depth0))\n    + \"</span>\\r\\n            </div>\\r\\n          </a>\\r\\n        </div>\\r\\n        <a class=\\\"mini-post-name\\\" href=\\\"#\\\" title=\\\"${el.title}\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</a>\\r\\n        <div class=\\\"mini-post-info\\\">\\r\\n          <a href=\\\"#\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"year\") : depth0), depth0))\n    + \"</a> <a href=\\\"#\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"country\") : depth0), depth0))\n    + \"</a>\\r\\n        </div>\\r\\n      </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n  <a class=\\\"btn \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"btn_class\") : depth0), depth0))\n    + \"\\\" href=\\\"#\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"btn_text\") : depth0), depth0))\n    + \"</a>\\r\\n  <ul class=\\\"list movie\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"movie\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":20,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"  </ul>\\r\\n</div>\\r\\n\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}